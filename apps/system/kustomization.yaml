# system/kustomization.yaml
resources:
  # Projects (must be first)
  - projects/monitoring-project.yaml
  
  # Infrastructure (-1 to 0 sync waves)
  - external-secrets-app.yaml    # wave: -1
  
  # Monitoring Stack (0 to 5 sync waves)
  - monitoring-namespace-app.yaml # wave: 0
  - prometheus-app.yaml          # wave: 1
  - loki-app.yaml               # wave: 2
  - tempo-app.yaml              # wave: 3
  - otel-collector-app.yaml     # ADDED: This is our new collector daemonset.
  - dashboards-app.yaml         # wave: 5
  
  # Demo Application
  - opentelemetry-demo-app.yaml
  
  # Applications (10+ sync waves)
  - homer-app.yaml              # wave: 10
  - minio-app.yaml              # wave: 10
  - nginx-app.yaml              # wave: 15

# REMOVED: promtail-app.yaml
# REMOVED: otel-app.yaml (the old, unused collector)
